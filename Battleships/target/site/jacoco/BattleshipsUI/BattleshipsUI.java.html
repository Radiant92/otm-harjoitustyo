<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>BattleshipsUI.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Battleships</a> &gt; <a href="index.source.html" class="el_package">BattleshipsUI</a> &gt; <span class="el_source">BattleshipsUI.java</span></div><h1>BattleshipsUI.java</h1><pre class="source lang-java linenums">/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package BattleshipsUI;

import Battleships.*;

import javafx.application.Application;

import javafx.geometry.Insets;
import javafx.scene.Scene;
import javafx.scene.control.Button;
import javafx.scene.control.Label;

import javafx.scene.layout.BorderPane;

import javafx.scene.layout.GridPane;
import javafx.scene.layout.HBox;

import javafx.stage.Stage;
import javafx.stage.Window;

/**
 *
 * @author strohm
 */
<span class="nc" id="L29">public class BattleshipsUI extends Application {</span>

    private static GridPane board;
    private static Game newGame;
    private static BorderPane game;
    private static boolean loser;
    private static boolean winner;

    @Override
    public void start(Stage window) {

<span class="nc" id="L40">        BorderPane setup = new BorderPane();</span>
<span class="nc" id="L41">        game = new BorderPane();</span>
<span class="nc" id="L42">        board = new GridPane();</span>
<span class="nc" id="L43">        board.setPrefSize(500, 500);</span>

<span class="nc" id="L45">        HBox buttons = new HBox();</span>
<span class="nc" id="L46">        buttons.setSpacing(20);</span>

<span class="nc" id="L48">        Button easy = new Button(&quot;EASY&quot;);</span>
<span class="nc" id="L49">        Button normal = new Button(&quot;NORMAL&quot;);</span>
<span class="nc" id="L50">        Button hard = new Button(&quot;HARD&quot;);</span>

<span class="nc" id="L52">        buttons.getChildren().add(easy);</span>
<span class="nc" id="L53">        buttons.getChildren().add(normal);</span>
<span class="nc" id="L54">        buttons.getChildren().add(hard);</span>
<span class="nc" id="L55">        setup.setCenter(buttons);</span>

<span class="nc" id="L57">        Scene menu = new Scene(setup);</span>
<span class="nc" id="L58">        Scene gameScreen = new Scene(game);</span>

<span class="nc" id="L60">        easy.setOnAction((event) -&gt; {</span>
<span class="nc" id="L61">            newGame = new Game(6);</span>

<span class="nc" id="L63">            makeBoard(6);</span>
<span class="nc" id="L64">            board.setPadding(new Insets(10, 10, 10, 10));</span>
<span class="nc" id="L65">            game.setCenter(board);</span>
<span class="nc" id="L66">            window.setScene(gameScreen);</span>
<span class="nc" id="L67">        });</span>

        /* normal.setOnAction((event) -&gt; {
            newGame = new Game(8);
            makeBoard(8);
            board.setPadding(new Insets(10, 10, 10, 10));
            game.setCenter(board);
            window.setScene(gameScreen);

        });
        hard.setOnAction((event) -&gt; {
            newGame = new Game(10);
            makeBoard(10);
            board.setPadding(new Insets(10, 10, 10, 10));
            game.setCenter(board);
            window.setScene(gameScreen);
        });
         */
<span class="nc" id="L85">        window.setScene(menu);</span>
<span class="nc" id="L86">        window.show();</span>

<span class="nc" id="L88">    }</span>

    public void makeBoard(int size) {
<span class="nc" id="L91">        loser = false;</span>
<span class="nc" id="L92">        winner = false;</span>
<span class="nc" id="L93">        Label turns = new Label(&quot;&quot; + newGame.getTurns());</span>
<span class="nc" id="L94">        game.setTop(turns);</span>
<span class="nc bnc" id="L95" title="All 2 branches missed.">        for (int x = 0; x &lt; size; x++) {</span>
<span class="nc bnc" id="L96" title="All 2 branches missed.">            for (int y = 0; y &lt; size; y++) {</span>
<span class="nc" id="L97">                Button b = new Button(x + &quot; - &quot; + y);</span>
<span class="nc" id="L98">                b.setPrefSize(50, 50);</span>
<span class="nc" id="L99">                b.setOnMouseClicked(event -&gt; {</span>
<span class="nc bnc" id="L100" title="All 2 branches missed.">                    if (loser == true) {</span>
<span class="nc" id="L101">                        b.setText(&quot;LOSER&quot;);</span>
<span class="nc bnc" id="L102" title="All 2 branches missed.">                    } else if (winner == true) {</span>

<span class="nc" id="L104">                        b.setText(&quot;WIN&quot;);</span>
                    } else {
<span class="nc" id="L106">                        String location = b.getText();</span>
<span class="nc bnc" id="L107" title="All 4 branches missed.">                        if (!location.equals(&quot;O&quot;) &amp;&amp; !location.equals(&quot;X&quot;)) {</span>
<span class="nc" id="L108">                            String[] split = location.split(&quot;-&quot;);</span>

<span class="nc" id="L110">                            int buttonX = Integer.parseInt(split[0].trim());</span>

<span class="nc" id="L112">                            int buttonY = Integer.parseInt(split[1].trim());</span>
<span class="nc" id="L113">                            String result = newGame.hit(buttonX, buttonY);</span>

<span class="nc bnc" id="L115" title="All 2 branches missed.">                            if (result.equals(&quot;miss&quot;)) {</span>
<span class="nc" id="L116">                                b.setText(&quot;O&quot;);</span>
<span class="nc" id="L117">                                turns.setText(&quot;&quot; + newGame.getTurns());</span>
<span class="nc bnc" id="L118" title="All 2 branches missed.">                                if (newGame.didYouLose() == true) {</span>
<span class="nc" id="L119">                                    loser = true;</span>
                                }
<span class="nc bnc" id="L121" title="All 2 branches missed.">                            } else if (result.equals(&quot;strike&quot;)) {</span>
<span class="nc" id="L122">                                b.setText(&quot;X&quot;);</span>
<span class="nc bnc" id="L123" title="All 2 branches missed.">                                if (newGame.didYouWin() == true) {</span>
<span class="nc" id="L124">                                    winner = true;</span>
                                }
                            }
                        }
                    }
<span class="nc" id="L129">                });</span>
<span class="nc" id="L130">                board.add(b, x, y);</span>

            }
        }

<span class="nc" id="L135">    }</span>

    public static void main(String[] args) {
<span class="nc" id="L138">        launch(BattleshipsUI.class);</span>
<span class="nc" id="L139">    }</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.0.201801022044</span></div></body></html>